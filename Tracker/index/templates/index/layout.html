{% extends "head.html" -%}
<!--  -->
{% block script -%}
<script type="text/javascript" src="{{ url_for( 'index.static' , filename='index.js') }}" defer></script>
{%- endblock script %}
<!--  -->
{% block style -%}
<link rel="stylesheet" href="{{ url_for( 'index.static' , filename='index.css') }}"> {%- endblock style %} {% block main -%}

<div class="filebackground"></div>

<main id="grid-container">

    <!-- Navigation Rail -->
    <nav id="navigation-rail">

        <div class="nav-header">
            <div class="page-title">
                <p class="title">{{ pageTitle }}</p>
            </div>
            <div class="nav-switch">
                <div class="arrow-container">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.54,9,8.88,3.46a3.42,3.42,0,0,0-5.13,3V17.58A3.42,3.42,0,0,0,7.17,21a3.43,3.43,0,0,0,1.71-.46L18.54,15a3.42,3.42,0,0,0,0-5.92Zm-1,4.19L7.88,18.81a1.44,1.44,0,0,1-1.42,0,1.42,1.42,0,0,1-.71-1.23V6.42a1.42,1.42,0,0,1,.71-1.23A1.51,1.51,0,0,1,7.17,5a1.54,1.54,0,0,1,.71.19l9.66,5.58a1.42,1.42,0,0,1,0,2.46Z"/></svg>
                </div>
            </div>
        </div>

        <div class="aside">
            {% if pageTitle == 'TICKETS'%}
            <!--  -->
            {% if project_author.id == current_user.id -%}
            <div class="nav-child">
                <a href="{{ url_for('tickets.add_ticket', current_project_id=project_id) }}" class="show-modal-button">
                    <svg class="pencil-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22,7.24a1,1,0,0,0-.29-.71L17.47,2.29A1,1,0,0,0,16.76,2a1,1,0,0,0-.71.29L13.22,5.12h0L2.29,16.05a1,1,0,0,0-.29.71V21a1,1,0,0,0,1,1H7.24A1,1,0,0,0,8,21.71L18.87,10.78h0L21.71,8a1.19,1.19,0,0,0,.22-.33,1,1,0,0,0,0-.24.7.7,0,0,0,0-.14ZM6.83,20H4V17.17l9.93-9.93,2.83,2.83ZM18.17,8.66,15.34,5.83l1.42-1.41,2.82,2.82Z"/></svg>
                    <div class="label-container">
                        <label class="icon-label">CREATE TICKET</label>
                    </div>
                </a>
            </div>
            {%- endif %}
            <!--  -->
            {% else %}
            <div class="nav-child">
                <a href="{{ url_for('projects.add_project') }}" class="show-modal-button">
                    <svg class="pencil-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22,7.24a1,1,0,0,0-.29-.71L17.47,2.29A1,1,0,0,0,16.76,2a1,1,0,0,0-.71.29L13.22,5.12h0L2.29,16.05a1,1,0,0,0-.29.71V21a1,1,0,0,0,1,1H7.24A1,1,0,0,0,8,21.71L18.87,10.78h0L21.71,8a1.19,1.19,0,0,0,.22-.33,1,1,0,0,0,0-.24.7.7,0,0,0,0-.14ZM6.83,20H4V17.17l9.93-9.93,2.83,2.83ZM18.17,8.66,15.34,5.83l1.42-1.41,2.82,2.82Z"/></svg>
                    <div class="label-container">
                        <label class="icon-label">CREATE</label>
                    </div>
                </a>
            </div>
            {% endif %}

            <div class="nav-child">
                <button class="nav-button">
                    <div class="aside-icon-container">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g data-name="Layer 2"><g data-name="cube"><rect width="24" height="24" opacity="0"/><path d="M20.66 7.26c0-.07-.1-.14-.15-.21l-.09-.1a2.5 2.5 0 0 0-.86-.68l-6.4-3a2.7 2.7 0 0 0-2.26 0l-6.4 3a2.6 2.6 0 0 0-.86.68L3.52 7a1 1 0 0 0-.15.2A2.39 2.39 0 0 0 3 8.46v7.06a2.49 2.49 0 0 0 1.46 2.26l6.4 3a2.7 2.7 0 0 0 2.27 0l6.4-3A2.49 2.49 0 0 0 21 15.54V8.46a2.39 2.39 0 0 0-.34-1.2zm-8.95-2.2a.73.73 0 0 1 .58 0l5.33 2.48L12 10.15 6.38 7.54zM5.3 16a.47.47 0 0 1-.3-.43V9.1l6 2.79v6.72zm13.39 0L13 18.61v-6.72l6-2.79v6.44a.48.48 0 0 1-.31.46z"/></g></g></svg>
                    </div>
                    <a class="label-container" href="{{ url_for('index._index') }}">
                        <label class="icon-label" id="project-text">PROJECTS</label>
                    </a>
                </button>
            </div>
        </div>
    </nav>

    <!-- Top Bar -->
    <section id="top-bar">

        <!-- <div class="tools">
            <div class="search-field">
                <input type="search" name="search" id="input-search" placeholder="search querry">
                <div class="search-icon-container">
                    <svg id="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.71,20.29,18,16.61A9,9,0,1,0,16.61,18l3.68,3.68a1,1,0,0,0,1.42,0A1,1,0,0,0,21.71,20.29ZM11,18a7,7,0,1,1,7-7A7,7,0,0,1,11,18Z"/></svg>
                </div>
            </div>
            <div id="filter">
                <label class="filter-label" for="filter">Filters</label>
                <svg id="filter-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><polyline fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" points="208 96 128 176 48 96"/></svg>
            </div>
        </div> -->
    </section>

    <!-- Main Content -->
    <section id="main-content">
        {% block projects -%}{%- endblock projects %} {% block tickets -%}{%- endblock tickets %} {% block ticketDetails -%}{%- endblock ticketDetails %}
    </section>

    <!-- Top Side Content -->
    <section id="top-side-content">
        <!-- <svg id="notification-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" fill-rule="evenodd" stroke="#200E32" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M.00082545485 11.7871203L.00082545485 11.568135C.0329512746 10.9202451.240598836 10.2924906.602355621 9.74960514 1.20450201 9.09746185 1.61670318 8.29830554 1.79571385 7.43597814 1.79571385 6.76950123 1.79571385 6.09350321 1.85392645 5.4270263 2.15469153 2.21841601 5.32727806 3.37507799e-14 8.46105618 3.37507799e-14L8.53867298 3.37507799e-14C11.6724511 3.37507799e-14 14.8450376 2.21841601 15.1555048 5.4270263 15.2137174 6.09350321 15.1555048 6.76950123 15.2040153 7.43597814 15.3854338 8.30030508 15.7972211 9.10194449 16.3973735 9.75912624 16.7618363 10.2972046 16.9698126 10.9226612 16.9989037 11.568135L16.9989037 11.7775992C17.0205591 12.6480449 16.720769 13.4968208 16.1548211 14.167395 15.4069586 14.9514753 14.392113 15.4392693 13.3024038 15.5384332 10.1069938 15.8812057 6.8830333 15.8812057 3.68762325 15.5384332 2.59914366 15.4349924 1.58575794 14.9479001.835206008 14.167395.278 13.496309-.0177593319 12.6525831.00082545485 11.7871203zM6.05493552 18.8517756C6.55421005 19.478449 7.28739599 19.8840184 8.09222803 19.978725 8.89706007 20.0734316 9.70716835 19.8494655 10.3432635 19.3563938 10.5389031 19.2105605 10.7149406 19.0410062 10.8671768 18.8517756" transform="translate(3.5 2)"/></svg> -->
        <div class="profile">
            <a href="{{ url_for('profile._profile') }}" id="profile-picture-main">
                <img src="{{ image_file }}" class="dashboard-profile-picture" alt="">
            </a>
            <button class="profile-dropdown-button"><svg id="profile-arrow-icon" class="profile-arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><polyline fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16" points="208 96 128 176 48 96"/></svg></button>
            <div id="profile-dropdown" class="profile-dropdown">
                <a href="{{ url_for('user.logout') }}" class="profile-dropdown-link">LOGOUT</a>
            </div>
        </div>
    </section>

    <!-- Side Content -->
    <section id="side-content">
        {% block sideContent -%} {%- endblock sideContent %}
    </section>
</main>
{%- endblock %}